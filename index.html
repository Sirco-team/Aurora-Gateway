<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Aurora Gateway</title>
  <!-- New modern font and basic resets are defined in styles.css -->
  <link rel="stylesheet" href="styles.css">
  <!-- Favicon -->
  <link rel="icon" href="favicon.ico">
</head>
<body>
  <!-- Header (Browser Toolbar) -->
  <header id="header" class="browser-header glass-effect">
    <div class="toolbar-left">
      <button class="nav-btn" onclick="goBack()" title="Back">&#8592;</button>
      <button class="nav-btn" onclick="goForward()" title="Forward">&#8594;</button>
      <input id="urlBar" type="text" placeholder="Enter URL or Aurora://command" onkeypress="if(event.key==='Enter'){ loadActiveTab(); }">
      <button class="load-btn" onclick="loadActiveTab()" title="Load Site">
        <img src="search.svg" alt="Go" class="icon">
      </button>
    </div>
    <div class="toolbar-right">
      <button class="nav-btn" onclick="toggleFavorites()" title="Favorites">★</button>
      <img id="settingsIcon" class="icon" src="gear.svg" alt="Settings" onclick="openSettings()">
    </div>
  </header>

  <!-- Tab Navigation Bar -->
  <div id="tabBar" class="tab-bar glass-effect">
    <!-- Tabs will be dynamically inserted here -->
    <button id="addTabBtn" class="add-tab-btn" onclick="newTab()" title="New Tab">+</button>
  </div>

  <!-- Main Content Container -->
  <div id="centerWrapper">
    <div id="content" class="futuristic-start-page">
      <!-- Start page content removed -->
    </div>
  </div>
  
  <!-- Favorites Panel -->
  <div id="favoritesPanel" class="panel glass-effect">
    <h3>Favorites</h3>
    <ul id="favoritesList"></ul>
    <button onclick="addCurrentToFavorites()">Add Current Page</button>
    <button onclick="toggleFavorites()">Close</button>
  </div>
  
  <!-- Settings Modal -->
  <div id="settingsModal" class="modal glass-effect">
    <div id="settingsModalContent">
      <span id="settingsModalClose" onclick="closeSettings()">×</span>
      <h2>Settings</h2>
      <label for="defaultProxy">Default Proxy:</label>
      <select id="defaultProxy">
        <option value="1">CorsProxy.io</option>
        <option value="2">CORS Anywhere</option>
        <option value="3">ThingProxy</option>
        <option value="4">AllOrigins</option>
      </select>
      <label for="loadModeSelect">Load Mode:</label>
      <select id="loadModeSelect">
        <option value="data" selected>Data Only (document.write)</option>
        <option value="div">Div Mode (Blob/Object)</option>
      </select>
      <label for="rewriteResourcesCheck">Rewrite Resource URLs:</label>
      <input type="checkbox" id="rewriteResourcesCheck" checked>
      <label for="overrideDynamicCheck">Override Dynamic Requests:</label>
      <input type="checkbox" id="overrideDynamicCheck" checked>
      <button onclick="saveSettingsAndClose()">Save Settings</button>
    </div>
  </div>

  <!-- Include split JS files in proper order -->
  <script src="main.js"></script>
</body>
</html>
